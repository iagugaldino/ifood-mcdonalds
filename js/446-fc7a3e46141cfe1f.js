"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{3313:function(e,t,i){i.d(t,{Z:function(){return m}});var r=i(7437),o=i(9376),n=i(9637),a=i(3247),s=i(8736),l=i(2369),c=i(2265);function m(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),i=[{icon:n.Z,label:"In\xedcio",href:"/"},{icon:a.Z,label:"Busca",href:"/search"},{icon:s.Z,label:"Pedidos",href:"/orders"},{icon:l.Z,label:"Perfil",href:"/profile"}];(0,c.useEffect)(()=>{let e=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t=document.querySelector('nav[class*="fixed"][class*="bottom"]');if(!t)return;let i=()=>{if(!t)return;let e=t.getBoundingClientRect(),i=window.innerHeight;Math.abs(e.bottom-i)>1&&(t.style.setProperty("position","fixed","important"),t.style.setProperty("bottom","0","important"),t.style.setProperty("left","0","important"),t.style.setProperty("right","0","important"),t.style.setProperty("margin","0","important"),t.style.setProperty("top","auto","important"),t.style.setProperty("transform","translateZ(0)","important"),t.style.setProperty("-webkit-transform","translateZ(0)","important"))};if(i(),e){let e=null,t=()=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>{i(),e=null})};window.addEventListener("scroll",t,{passive:!0,capture:!0}),window.addEventListener("touchmove",t,{passive:!0,capture:!0});let r=setInterval(i,50);return()=>{e&&cancelAnimationFrame(e),clearInterval(r),window.removeEventListener("scroll",t,{capture:!0}),window.removeEventListener("touchmove",t,{capture:!0})}}{let e=()=>i(),t=()=>i(),r=setInterval(i,100);return window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",t),window.visualViewport&&window.visualViewport.addEventListener("resize",t),()=>{clearInterval(r),window.removeEventListener("scroll",e),window.removeEventListener("resize",t),window.visualViewport&&window.visualViewport.removeEventListener("resize",t)}}},[!0]);let m=e=>{let i=e;{let t=localStorage.getItem("restaurant");if(t)try{let r=JSON.parse(t);if(null==r?void 0:r.slug){if("/"===e)i="/".concat(r.slug);else{let t=new URL(e,window.location.origin);t.searchParams.set("restaurant",r.slug),i=t.pathname+t.search}}}catch(e){console.error("Error parsing restaurant:",e)}}t.push(i)};return(0,r.jsxs)("nav",{className:"fixed left-0 right-0 bottom-0 bg-white border-t border-gray-200 z-[100] shadow-lg",style:{position:"fixed",bottom:"0",left:"0",right:"0",margin:"0",paddingBottom:"0",transform:"translateZ(0)",willChange:"transform",WebkitTransform:"translateZ(0)",fontFamily:'"iFood RC Textos", helvetica, sans-serif'},children:[(0,r.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-2 py-3",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:(0,r.jsx)("div",{className:"flex items-center justify-around",children:i.map(t=>{let i=t.icon,o=e===t.href;if("/"===t.href&&"/"!==e){let t=localStorage.getItem("restaurant");if(t)try{let i=JSON.parse(t);(null==i?void 0:i.slug)&&e==="/".concat(i.slug)&&(o=!0)}catch(e){}}return(0,r.jsxs)("button",{onClick:()=>m(t.href),className:"flex flex-col items-center justify-center py-2 px-3 sm:px-4 min-w-[70px] cursor-pointer hover:opacity-80 transition-opacity active:opacity-70 touch-manipulation",type:"button",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i,{size:22,className:"sm:w-6 sm:h-6 ".concat(o?"text-primary":"text-gray-400")}),"/profile"===t.href&&(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute -top-1 -right-1",alt:"Notifica\xe7\xf5es n\xe3o visualizadas",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"7",fill:"#EA1D2C",stroke:"white",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"8",cy:"8",r:"2",fill:"white"})]})]}),(0,r.jsx)("span",{className:"text-[10px] sm:text-xs mt-0.5 sm:mt-1 ".concat(o?"text-primary font-semibold":"text-gray-400"),style:{fontFamily:'"iFood RC Textos", helvetica, sans-serif',fontWeight:o?600:400},children:t.label})]},t.href)})})})]})}},3795:function(e,t,i){i.d(t,{Mc:function(){return r}});function r(e){let t=e.product.price*e.quantity;if(e.selectedOptions&&e.product.options){let i=function(e){let t=new Map,i=new Set;return e.forEach(e=>{if(i.has(e.id))return;i.add(e.id);let r=e.name?String(e.name).trim():"";if(e.groupId&&e.groupName){let i=t.get(e.groupId);i?(i.options.find(t=>t.id===e.id)||i.options.push(e),void 0!==e.maxSelect&&void 0===i.maxSelect&&(i.maxSelect=e.maxSelect),void 0!==e.minSelect&&void 0===i.minSelect&&(i.minSelect=e.minSelect)):t.set(e.groupId,{groupId:e.groupId,groupName:e.groupName,options:[e],maxSelect:e.maxSelect,minSelect:e.minSelect})}else if(e.groupId){let i=t.get(e.groupId);i?(i.options.find(t=>t.id===e.id)||i.options.push(e),e.maxSelect&&!i.maxSelect&&(i.maxSelect=e.maxSelect),void 0!==e.minSelect&&void 0===i.minSelect&&(i.minSelect=e.minSelect)):t.set(e.groupId,{groupId:e.groupId,groupName:e.groupId,options:[e],maxSelect:e.maxSelect,minSelect:e.minSelect})}else{let{groupName:i,itemName:o}=function(e){if(!e||"string"!=typeof e)return{groupName:"",itemName:String(e||"").trim()};let t=e.replace(/^(Selecione|Escolha):\s*/i,"").trim(),i=t.lastIndexOf(":");if(-1!==i){let e=t.substring(0,i).trim(),r=t.substring(i+1).trim();if(e&&r)return{groupName:e,itemName:r}}let r=t.match(/^([^-]+)-\s*(.+)$/);return r?{groupName:r[1].trim(),itemName:r[2].trim()}:{groupName:"",itemName:t.trim()}}(r||e.name||"");if(i){let r=i.toLowerCase().replace(/\s+/g,"-"),n=t.get(r);n?(n.options.find(t=>t.id===e.id)||n.options.push({...e,name:o,groupId:r,groupName:i}),e.maxSelect&&!n.maxSelect&&(n.maxSelect=e.maxSelect),void 0!==e.minSelect&&void 0===n.minSelect&&(n.minSelect=e.minSelect)):t.set(r,{groupId:r,groupName:i,options:[{...e,name:o,groupId:r,groupName:i}],maxSelect:e.maxSelect,minSelect:e.minSelect})}else{let i="ungrouped-".concat(e.id);t.set(i,{groupId:i,groupName:"",options:[{...e,groupId:i}],maxSelect:e.maxSelect,minSelect:e.minSelect})}}}),Array.from(t.values())}(e.product.options),r=new Set;i.forEach(t=>{void 0!==t.minSelect&&t.minSelect>0?r.add(t.groupId):e.product.fromPrice&&t.options.every(e=>0===e.price)&&r.add(t.groupId)});let o=Array.isArray(e.selectedOptions)?e.selectedOptions:Object.values(e.selectedOptions).flat();(o=[...new Set(o)]).forEach(o=>{let n=e.product.options.find(e=>e.id===o);if(!n)return;let a=n.groupId||"";if(!a){let e=i.find(e=>e.options.some(e=>e.id===n.id));e&&(a=e.groupId)}let s=r.has(a);n.price>0&&!s&&(t+=n.price*e.quantity)})}return t}}}]);